<div id="guest-{{ guest.id }}" class="rounded-2xl border border-slate-200 bg-white p-5 shadow-sm">
    <div class="flex flex-wrap items-center justify-between gap-4">
        <div>
            <p class="text-base font-semibold text-slate-900">{{ guest.nome }}</p>
            <p class="text-sm text-slate-500">Valor devido Â· R$ {{ guest.valor_devido|floatformat:2 }}</p>
        </div>
        <span class="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold {% if guest.pago %}bg-emerald-100 text-emerald-700{% else %}bg-amber-100 text-amber-700{% endif %}">
            <span class="h-2 w-2 rounded-full {% if guest.pago %}bg-emerald-500{% else %}bg-amber-500{% endif %}"></span>
            {% if guest.pago %}Pago via {{ guest.get_metodo_pagamento_display }}{% else %}Pendente{% endif %}
        </span>
    </div>
    <div class="mt-4 flex flex-wrap gap-3">
        <button type="button"
            class="inline-flex items-center justify-center rounded-xl px-4 py-2 text-sm font-semibold text-white transition {% if guest.metodo_pagamento == 'PIX' and guest.pago %}bg-emerald-600 shadow-lg shadow-emerald-200{% else %}bg-emerald-500 hover:bg-emerald-600{% endif %}"
            hx-post="{% url 'reservations:update_guest_payment' guest.id %}"
            hx-target="#guest-{{ guest.id }}" hx-swap="outerHTML"
            hx-vals='{"method": "PIX"}'>PIX</button>
        <button type="button"
            class="inline-flex items-center justify-center rounded-xl px-4 py-2 text-sm font-semibold text-white transition {% if guest.metodo_pagamento == 'DINHEIRO' and guest.pago %}bg-sky-600 shadow-lg shadow-sky-200{% else %}bg-sky-500 hover:bg-sky-600{% endif %}"
            hx-post="{% url 'reservations:update_guest_payment' guest.id %}"
            hx-target="#guest-{{ guest.id }}" hx-swap="outerHTML"
            hx-vals='{"method": "DINHEIRO"}'>Dinheiro</button>
        <button type="button"
            class="inline-flex items-center justify-center rounded-xl px-4 py-2 text-sm font-semibold text-slate-600 transition {% if not guest.pago %}bg-slate-200{% else %}bg-slate-100 hover:bg-slate-200{% endif %}"
            hx-post="{% url 'reservations:update_guest_payment' guest.id %}"
            hx-target="#guest-{{ guest.id }}" hx-swap="outerHTML"
            hx-vals='{"method": "PENDENTE"}'>Pendente</button>
    </div>
</div>